import{_ as Me}from"./MenuTrigger-BFUKn7uy.js";import{c as a,I as _e,d as le,u as se,a as re,M as Se,m as Ae,r as y,o as ie,H as pe,E as ne,z as Oe,b as v,e as s,f as c,l as k,g as o,h as t,s as L,q as i,y as I,F as M,j as P,Y as Z,i as z,_ as ue,G as de,P as Ne,Q as Ue,R as Re,a0 as te,Z as Ve,$ as He,a1 as Je,x as xe,a2 as Te,X as ge,O as fe,w as ze,v as je,n as De,t as Fe,U as Ce,V as Be}from"./index-tT9SxIPK.js";import{R as ye}from"./RouterLocationAvatar-DcqCds2h.js";import{A as Ye}from"./ApiOutlined-S85r4nYw.js";import{S as Ee}from"./SendOutlined-6Sz6F_ij.js";import{N as Le}from"./NodeIndexOutlined-BRFNOl7K.js";var qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"};function we(x){for(var e=1;e<arguments.length;e++){var g=arguments[e]!=null?Object(arguments[e]):{},d=Object.keys(g);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(g).filter(function(r){return Object.getOwnPropertyDescriptor(g,r).enumerable}))),d.forEach(function(r){We(x,r,g[r])})}return x}function We(x,e,g){return e in x?Object.defineProperty(x,e,{value:g,enumerable:!0,configurable:!0,writable:!0}):x[e]=g,x}var ke=function(e,g){var d=we({},e,g.attrs);return a(_e,we({},d,{icon:qe}),null)};ke.displayName="BookOutlined";ke.inheritAttrs=!1;var Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"};function Ie(x){for(var e=1;e<arguments.length;e++){var g=arguments[e]!=null?Object(arguments[e]):{},d=Object.keys(g);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(g).filter(function(r){return Object.getOwnPropertyDescriptor(g,r).enumerable}))),d.forEach(function(r){Xe(x,r,g[r])})}return x}function Xe(x,e,g){return e in x?Object.defineProperty(x,e,{value:g,enumerable:!0,configurable:!0,writable:!0}):x[e]=g,x}var be=function(e,g){var d=Ie({},e,g.attrs);return a(_e,Ie({},d,{icon:Ge}),null)};be.displayName="FileAddOutlined";be.inheritAttrs=!1;var Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};function Pe(x){for(var e=1;e<arguments.length;e++){var g=arguments[e]!=null?Object(arguments[e]):{},d=Object.keys(g);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(g).filter(function(r){return Object.getOwnPropertyDescriptor(g,r).enumerable}))),d.forEach(function(r){Qe(x,r,g[r])})}return x}function Qe(x,e,g){return e in x?Object.defineProperty(x,e,{value:g,enumerable:!0,configurable:!0,writable:!0}):x[e]=g,x}var he=function(e,g){var d=Pe({},e,g.attrs);return a(_e,Pe({},d,{icon:Ze}),null)};he.displayName="SettingOutlined";he.inheritAttrs=!1;const Ke={class:"buttons"},ea={key:0,class:"avatar-container"},aa={class:"node small-text"},ta={key:1,class:"small-text"},na={key:2},oa={key:0,class:"small-text"},la={key:0,class:"small-text"},sa={key:0,class:"small-text"},ia={key:6},ua=["onClick"],ra={class:"detail"},pa={key:0},ca={key:1},da={key:2},va={key:3},ma={key:4},ga={key:5},fa=["innerHTML"],_a=["innerHTML"],ya=le({__name:"mySessions",setup(x){const e=se().t,g=re(),d=new Se;d.use(Ae,{attrs:{target:"_blank"}});const r=y(!1),S=y([]),E=y([]),A=async()=>{try{r.value=!0;const n=await z(e,"/list",{type:"routers"});Array.isArray(n.routers)&&(E.value=n.routers.sort((U,V)=>(""+U.name).localeCompare(V.name)),localStorage.setItem("routers",JSON.stringify(E.value)));const m=await z(e,"/session",{action:"enum"}),$=[];Array.isArray(m.sessions)&&(m.sessions.forEach(U=>$.push({...U,routerJoined:E.value.find(V=>V.uuid===U.router)})),S.value=$)}catch(n){console.error(n)}finally{r.value=!1}};ie(async()=>{if(!pe.value){ne.info(e("pages.nodes.pleaseSignIn")),g.replace({path:"/signin"});return}await A()});const b=y(!1),C=async(n,m)=>{try{r.value=!0,await z(e,"/session",{action:m,router:n.router,session:n.uuid})}catch($){console.error($)}finally{r.value=!1,A()}},u=n=>C(n,"enable"),w=n=>C(n,"disable"),Y=n=>C(n,"delete"),p=y(!1),l=y(""),f=y(""),B=y(""),q=y(""),W=y(""),H=y(""),N=y(""),j=y(""),D=y(""),K=y(void 0),F=async(n,m)=>{var $,U,V,X;m.stopPropagation();try{l.value="",f.value="",B.value="",q.value="",W.value="",N.value="",D.value="",K.value=void 0,K.value=n.routerJoined||void 0,l.value=(($=n.routerJoined)==null?void 0:$.name)||e("pages.manage.session.info"),f.value=((U=n.routerJoined)==null?void 0:U.ipv4)||"",B.value=((V=n.routerJoined)==null?void 0:V.ipv6)||"",q.value=((X=n.routerJoined)==null?void 0:X.ipv6LinkLocal)||"",D.value=n.endpoint,N.value=n.interface,j.value="",n.extensions.forEach((T,oe)=>{oe!==0&&(j.value+=", "),j.value+=e(`pages.peering['${T}']`)}),W.value=n.data!==""&&n.data.info?d.render(n.data.info):""}catch(T){console.error(T)}b.value=!0;try{p.value=!0;const T=await z(e,"/session",{action:"query",router:n.router,session:n.uuid});typeof T=="string"&&(H.value=T===""?"":d.render(T))}catch(T){console.error(T)}finally{p.value=!1}},ae=y([{title:e("pages.manage.session.node"),dataIndex:"node",key:"node",sorter:(n,m)=>{var $,U;return(""+((($=n.routerJoined)==null?void 0:$.name)||"")).localeCompare(((U=m.routerJoined)==null?void 0:U.name)||"")}},{title:e("pages.manage.session.type"),dataIndex:"type",key:"type",sorter:(n,m)=>(""+n.type).localeCompare(m.type)},{title:"IPv4",dataIndex:"ipv4",key:"ipv4",sorter:(n,m)=>(""+(n.ipv4||"")).localeCompare(m.ipv4||"")},{title:"IPv6",dataIndex:"ipv6",key:"ipv6",sorter:(n,m)=>(""+(n.ipv6||"")).localeCompare(m.ipv6||"")},{title:"IPv6 Link Local",dataIndex:"ipv6LinkLocal",key:"ipv6LinkLocal",sorter:(n,m)=>(""+(n.ipv6LinkLocal||"")).localeCompare(m.ipv6LinkLocal||"")},{title:e("pages.manage.session.status"),dataIndex:"status",key:"status",sorter:(n,m)=>n.status-m.status},{title:e("pages.manage.session.action"),dataIndex:"action",key:"action"}]),R=()=>{g.push({path:"/nodes"})},Q=(n,m)=>({onClick:$=>F(n,$)}),G=n=>n.stopPropagation(),_=y(""),J=Oe(()=>_.value.length===0?S.value:S.value.filter(n=>n.ipv4!==void 0&&n.ipv4!==null&&n.ipv4.indexOf(_.value)!==-1||n.ipv6!==void 0&&n.ipv6!==null&&n.ipv6.indexOf(_.value)!==-1||n.ipv6LinkLocal!==void 0&&n.ipv6LinkLocal!==null&&n.ipv6LinkLocal.indexOf(_.value)!==-1));return(n,m)=>{const $=v("a-button"),U=v("a-input-search"),V=v("a-tag"),X=v("a-divider"),T=v("a-popconfirm"),oe=v("a-table"),ve=v("a-spin"),me=v("a-modal");return s(),c(M,null,[k("div",Ke,[a($,{onClick:R},{icon:o(()=>[a(t(Ye))]),default:o(()=>[L(" "+i(t(e)("pages.manage.session.newPeeringSession")),1)]),_:1}),a(U,{value:_.value,"onUpdate:value":m[0]||(m[0]=O=>_.value=O),placeholder:t(e)("pages.manage.session.search"),class:"searchBox","enter-button":""},null,8,["value","placeholder"])]),a(oe,{columns:ae.value,"data-source":J.value,loading:r.value,bordered:"",size:"small",customRow:Q,scroll:{x:"max-content"}},{bodyCell:o(({column:O,record:h})=>{var ce;return[O.key==="node"?(s(),c("div",ea,[a(ye,{router:h.routerJoined,"hide-peering-dot":!0},null,8,["router"]),k("span",aa,i((ce=h.routerJoined)==null?void 0:ce.name),1)])):I("",!0),O.key==="type"?(s(),c("span",ta,i(t(e)(`pages.peering['${h.type}']`)),1)):O.key==="status"?(s(),c("span",na,[a(V,{color:h.status===-1?"volcano":h.status===0?"geekblue":"green"},{default:o(()=>[L(i(t(e)(`pages.manage.session.statusCode['${h.status}']`)),1)]),_:2},1032,["color"])])):O.key==="ipv4"?(s(),c(M,{key:3},[h.ipv4?(s(),c("span",oa,i(h.ipv4),1)):(s(),P(t(Z),{key:1}))],64)):O.key==="ipv6"?(s(),c(M,{key:4},[h.ipv6?(s(),c("span",la,i(h.ipv6),1)):(s(),P(t(Z),{key:1}))],64)):O.key==="ipv6LinkLocal"?(s(),c(M,{key:5},[h.ipv6LinkLocal?(s(),c("span",sa,i(h.ipv6LinkLocal),1)):(s(),P(t(Z),{key:1}))],64)):O.key==="action"?(s(),c("span",ia,[k("a",{onClick:ee=>F(h,ee)},i(t(e)("pages.manage.session.info")),9,ua),a(X,{type:"vertical"}),h.status===1?(s(),P(T,{key:0,placement:"bottomRight",onConfirm:ee=>w(h)},{title:o(()=>[k("p",null,i(t(e)("pages.manage.session.areYouSure")),1)]),default:o(()=>[k("a",{onClick:G},i(t(e)("pages.manage.session.disable")),1)]),_:2},1032,["onConfirm"])):h.status===0?(s(),P(T,{key:1,placement:"bottomRight",onConfirm:ee=>u(h)},{title:o(()=>[k("p",null,i(t(e)("pages.manage.session.areYouSure")),1)]),default:o(()=>[k("a",{onClick:G},i(t(e)("pages.manage.session.enable")),1)]),_:2},1032,["onConfirm"])):I("",!0),h.status===1||h.status===0?(s(),P(X,{key:2,type:"vertical"})):I("",!0),a(T,{placement:"bottomRight",onConfirm:ee=>Y(h)},{title:o(()=>[k("p",null,i(t(e)("pages.manage.session.areYouSure")),1)]),default:o(()=>[k("a",{onClick:G},i(t(e)("pages.manage.session.remove")),1)]),_:2},1032,["onConfirm"])])):I("",!0)]}),_:1},8,["columns","data-source","loading"]),a(me,{open:b.value,"onUpdate:open":m[2]||(m[2]=O=>b.value=O),title:l.value,centered:""},{footer:o(()=>[a($,{type:"primary",onClick:m[1]||(m[1]=O=>b.value=!1)},{default:o(()=>[L(i(t(e)("pages.manage.session.ok")),1)]),_:1})]),default:o(()=>[k("ul",ra,[f.value!==""?(s(),c("li",pa,[L("IPv4: "),k("code",null,i(f.value),1)])):I("",!0),B.value!==""?(s(),c("li",ca,[L("IPv6: "),k("code",null,i(B.value),1)])):I("",!0),q.value!==""?(s(),c("li",da,[L("IPv6 Link Local: "),k("code",null,i(q.value),1)])):I("",!0),N.value!==""?(s(),c("li",va,[L(i(t(e)("pages.peering.interface"))+": ",1),k("code",null,i(N.value),1)])):I("",!0),D.value?(s(),c("li",ma,[L(i(t(e)("pages.peering.endpoint"))+": ",1),k("code",null,i(D.value),1)])):I("",!0),j.value!==""?(s(),c("li",ga,[L(i(t(e)("pages.peering.bgpExtensions"))+": ",1),k("code",null,i(j.value),1)])):I("",!0)]),W.value!==""?(s(),c("div",{key:0,class:"desc",innerHTML:W.value},null,8,fa)):I("",!0),a(ve,{spinning:p.value},{default:o(()=>[H.value!==""?(s(),c("div",{key:0,class:"desc",innerHTML:H.value},null,8,_a)):I("",!0)]),_:1},8,["spinning"])]),_:1},8,["open","title"])],64)}}}),ka=ue(ya,[["__scopeId","data-v-5ea6094e"]]),ba=x=>(Ne("data-v-b27b89b1"),x=x(),Ue(),x),ha=["value"],xa=ba(()=>k("br",null,null,-1)),Ca=le({__name:"myAccount",setup(x){const e=se().t,g=re(),d=y(!1),r=y("");ie(async()=>{if(!pe.value){ne.info(e("pages.nodes.pleaseSignIn")),g.replace({path:"/signin"});return}r.value=localStorage.getItem("asn")||""});const S=y({password:"",confirmPassword:""}),E=async()=>{if(S.value.password!==S.value.confirmPassword){de.error({centered:!0,title:e("pages.manage.account.setPassword"),content:e("pages.peering.inputValid")});return}try{if(d.value=!0,(await z(e,"/settings",{action:"password",password:S.value.password})).success){ne.success(e("pages.manage.account.successSetPassword"));return}de.error({centered:!0,title:e("pages.manage.account.setPassword"),content:e("pages.signIn.errorOccurred")})}catch(A){console.error(A)}finally{d.value=!1}};return(A,b)=>{const C=v("a-form-item"),u=v("a-input-password"),w=v("a-button"),Y=v("a-form"),p=v("a-spin");return s(),P(p,{spinning:d.value},{default:o(()=>[k("h2",null,i(t(e)("pages.manage.account.setYourPassword")),1),a(Y,{model:S.value,class:"setPasswordForm"},{default:o(()=>[a(C,{style:{display:"none"}},{default:o(()=>[k("input",{type:"text",name:"username",value:r.value,autocomplete:"username"},null,8,ha)]),_:1}),a(C,{name:"password",label:t(e)("pages.manage.account.password")},{default:o(()=>[a(u,{autocomplete:"new-password",value:S.value.password,"onUpdate:value":b[0]||(b[0]=l=>S.value.password=l),placeholder:t(e)("pages.manage.account.password")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(C,{name:"confirmPassword",label:t(e)("pages.manage.account.confirmPassword")},{default:o(()=>[a(u,{autocomplete:"new-password",value:S.value.confirmPassword,"onUpdate:value":b[1]||(b[1]=l=>S.value.confirmPassword=l),placeholder:t(e)("pages.manage.account.confirmPassword")},null,8,["value","placeholder"])]),_:1},8,["label"]),xa,a(C,{"wrapper-col":{offset:8,span:16}},{default:o(()=>[a(w,{type:"primary",onClick:E},{icon:o(()=>[a(t(Ee))]),default:o(()=>[L(" "+i(t(e)("pages.manage.account.setPassword")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])}}}),$e=ue(Ca,[["__scopeId","data-v-b27b89b1"]]),La={key:0,class:"avatar-container"},wa={class:"node small-text"},Ia={key:1,class:"small-text"},Pa={key:2,class:"small-text"},$a={key:3},Sa={key:0,class:"small-text"},Aa={key:0,class:"small-text"},Oa={key:0,class:"small-text"},Na={key:7},Ua=["onClick"],Ta={class:"detail"},Ea={key:0},Ma={key:1},Ra={key:2},Va={key:3},Ha={key:4},Ja={key:5},za=["innerHTML"],ja=["innerHTML"],Da=le({__name:"manageSessions",setup(x){const e=se().t,g=re(),d=new Se;d.use(Ae,{attrs:{target:"_blank"}});const r=y(!1),S=y([]),E=y([]),A=async()=>{try{r.value=!0;const n=await z(e,"/list",{type:"routers"});Array.isArray(n.routers)&&(E.value=n.routers.sort((U,V)=>(""+U.name).localeCompare(V.name)),localStorage.setItem("routers",JSON.stringify(E.value)));const m=await z(e,"/admin",{action:"enumSessions"}),$=[];Array.isArray(m.sessions)&&(m.sessions.forEach(U=>$.push({...U,routerJoined:E.value.find(V=>V.uuid===U.router)})),S.value=$)}catch(n){console.error(n)}finally{r.value=!1}};ie(async()=>{if(!pe.value){ne.info(e("pages.nodes.pleaseSignIn")),g.replace({path:"/signin"});return}await A()});const b=y(!1),C=async(n,m)=>{try{r.value=!0,await z(e,"/admin",{action:m,router:n.router,session:n.uuid})}catch($){console.error($)}finally{r.value=!1,A()}},u=n=>C(n,"enableSession"),w=n=>C(n,"disableSession"),Y=n=>C(n,"deleteSession"),p=n=>C(n,"approveSession"),l=y(!1),f=y(""),B=y(""),q=y(""),W=y(""),H=y(""),N=y(""),j=y(""),D=y(""),K=y(""),F=y(void 0),ae=async(n,m)=>{var $,U,V,X;m.stopPropagation();try{f.value="",B.value="",q.value="",W.value="",H.value="",j.value="",K.value="",F.value=void 0,F.value=n.routerJoined||void 0,f.value=(($=n.routerJoined)==null?void 0:$.name)||e("pages.manage.session.info"),B.value=((U=n.routerJoined)==null?void 0:U.ipv4)||"",q.value=((V=n.routerJoined)==null?void 0:V.ipv6)||"",W.value=((X=n.routerJoined)==null?void 0:X.ipv6LinkLocal)||"",K.value=n.endpoint,j.value=n.interface,D.value="",n.extensions.forEach((T,oe)=>{oe!==0&&(D.value+=", "),D.value+=e(`pages.peering['${T}']`)}),H.value=n.data!==""&&n.data.info?d.render(n.data.info):""}catch(T){console.error(T)}b.value=!0;try{l.value=!0;const T=await z(e,"/admin",{action:"querySession",router:n.router,session:n.uuid});typeof T=="string"&&(N.value=T===""?"":d.render(T))}catch(T){console.error(T)}finally{l.value=!1}},R=y([{title:e("pages.manage.session.node"),dataIndex:"node",key:"node",sorter:(n,m)=>{var $,U;return(""+((($=n.routerJoined)==null?void 0:$.name)||"")).localeCompare(((U=m.routerJoined)==null?void 0:U.name)||"")}},{title:"ASN",dataIndex:"asn",key:"asn",sorter:(n,m)=>Number(n.asn)>Number(m.asn)},{title:e("pages.manage.session.type"),dataIndex:"type",key:"type",sorter:(n,m)=>(""+n.type).localeCompare(m.type)},{title:"IPv4",dataIndex:"ipv4",key:"ipv4",sorter:(n,m)=>(""+(n.ipv4||"")).localeCompare(m.ipv4||"")},{title:"IPv6",dataIndex:"ipv6",key:"ipv6",sorter:(n,m)=>(""+(n.ipv6||"")).localeCompare(m.ipv6||"")},{title:"IPv6 Link Local",dataIndex:"ipv6LinkLocal",key:"ipv6LinkLocal",sorter:(n,m)=>(""+(n.ipv6LinkLocal||"")).localeCompare(m.ipv6LinkLocal||"")},{title:e("pages.manage.session.status"),dataIndex:"status",key:"status",sorter:(n,m)=>n.status-m.status},{title:e("pages.manage.session.action"),dataIndex:"action",key:"action"}]),Q=(n,m)=>({onClick:$=>ae(n,$)}),G=n=>n.stopPropagation(),_=y(""),J=Oe(()=>_.value.length===0?S.value:S.value.filter(n=>n.asn!==void 0&&n.asn!==null&&n.asn.indexOf(_.value)!==-1||n.ipv4!==void 0&&n.ipv4!==null&&n.ipv4.indexOf(_.value)!==-1||n.ipv6!==void 0&&n.ipv6!==null&&n.ipv6.indexOf(_.value)!==-1||n.ipv6LinkLocal!==void 0&&n.ipv6LinkLocal!==null&&n.ipv6LinkLocal.indexOf(_.value)!==-1));return(n,m)=>{const $=v("a-input-search"),U=v("a-tag"),V=v("a-divider"),X=v("a-popconfirm"),T=v("a-table"),oe=v("a-spin"),ve=v("a-button"),me=v("a-modal");return s(),c(M,null,[a($,{value:_.value,"onUpdate:value":m[0]||(m[0]=O=>_.value=O),placeholder:t(e)("pages.manage.session.search"),class:"searchBox","enter-button":""},null,8,["value","placeholder"]),a(T,{columns:R.value,"data-source":J.value,loading:r.value,bordered:"",size:"small",customRow:Q,scroll:{x:"max-content"}},{bodyCell:o(({column:O,record:h})=>{var ce;return[O.key==="node"?(s(),c("div",La,[a(ye,{router:h.routerJoined,"hide-peering-dot":!0},null,8,["router"]),k("span",wa,i((ce=h.routerJoined)==null?void 0:ce.name),1)])):O.key==="asn"?(s(),c("span",Ia,i(h.asn),1)):I("",!0),O.key==="type"?(s(),c("span",Pa,i(t(e)(`pages.peering['${h.type}']`)),1)):O.key==="status"?(s(),c("span",$a,[a(U,{color:h.status===-1?"volcano":h.status===0?"geekblue":"green"},{default:o(()=>[L(i(t(e)(`pages.manage.session.statusCode['${h.status}']`)),1)]),_:2},1032,["color"])])):O.key==="ipv4"?(s(),c(M,{key:4},[h.ipv4?(s(),c("span",Sa,i(h.ipv4),1)):(s(),P(t(Z),{key:1}))],64)):O.key==="ipv6"?(s(),c(M,{key:5},[h.ipv6?(s(),c("span",Aa,i(h.ipv6),1)):(s(),P(t(Z),{key:1}))],64)):O.key==="ipv6LinkLocal"?(s(),c(M,{key:6},[h.ipv6LinkLocal?(s(),c("span",Oa,i(h.ipv6LinkLocal),1)):(s(),P(t(Z),{key:1}))],64)):O.key==="action"?(s(),c("span",Na,[k("a",{onClick:ee=>ae(h,ee)},i(t(e)("pages.manage.session.info")),9,Ua),a(V,{type:"vertical"}),h.status===1?(s(),P(X,{key:0,placement:"bottomRight",onConfirm:ee=>w(h)},{title:o(()=>[k("p",null,i(t(e)("pages.manage.session.areYouSure")),1)]),default:o(()=>[k("a",{onClick:G},i(t(e)("pages.manage.session.disable")),1)]),_:2},1032,["onConfirm"])):h.status===0?(s(),P(X,{key:1,placement:"bottomRight",onConfirm:ee=>u(h)},{title:o(()=>[k("p",null,i(t(e)("pages.manage.session.areYouSure")),1)]),default:o(()=>[k("a",{onClick:G},i(t(e)("pages.manage.session.enable")),1)]),_:2},1032,["onConfirm"])):h.status===-1?(s(),P(X,{key:2,placement:"bottomRight",onConfirm:ee=>p(h)},{title:o(()=>[k("p",null,i(t(e)("pages.manage.session.areYouSure")),1)]),default:o(()=>[k("a",{onClick:G},i(t(e)("pages.manage.session.approve")),1)]),_:2},1032,["onConfirm"])):I("",!0),a(V,{type:"vertical"}),a(X,{placement:"bottomRight",onConfirm:ee=>Y(h)},{title:o(()=>[k("p",null,i(t(e)("pages.manage.session.areYouSure")),1)]),default:o(()=>[k("a",{onClick:G},i(t(e)("pages.manage.session.remove")),1)]),_:2},1032,["onConfirm"])])):I("",!0)]}),_:1},8,["columns","data-source","loading"]),a(me,{open:b.value,"onUpdate:open":m[2]||(m[2]=O=>b.value=O),title:f.value,centered:""},{footer:o(()=>[a(ve,{type:"primary",onClick:m[1]||(m[1]=O=>b.value=!1)},{default:o(()=>[L(i(t(e)("pages.manage.session.ok")),1)]),_:1})]),default:o(()=>[k("ul",Ta,[B.value!==""?(s(),c("li",Ea,[L("IPv4: "),k("code",null,i(B.value),1)])):I("",!0),q.value!==""?(s(),c("li",Ma,[L("IPv6: "),k("code",null,i(q.value),1)])):I("",!0),W.value!==""?(s(),c("li",Ra,[L("IPv6 Link Local: "),k("code",null,i(W.value),1)])):I("",!0),j.value!==""?(s(),c("li",Va,[L(i(t(e)("pages.peering.interface"))+": ",1),k("code",null,i(j.value),1)])):I("",!0),K.value?(s(),c("li",Ha,[L(i(t(e)("pages.peering.endpoint"))+": ",1),k("code",null,i(K.value),1)])):I("",!0),D.value!==""?(s(),c("li",Ja,[L(i(t(e)("pages.peering.bgpExtensions"))+": ",1),k("code",null,i(D.value),1)])):I("",!0)]),H.value!==""?(s(),c("div",{key:0,class:"desc",innerHTML:H.value},null,8,za)):I("",!0),a(oe,{spinning:l.value},{default:o(()=>[N.value!==""?(s(),c("div",{key:0,class:"desc",innerHTML:N.value},null,8,ja)):I("",!0)]),_:1},8,["spinning"])]),_:1},8,["open","title"])],64)}}}),Fa=ue(Da,[["__scopeId","data-v-00460352"]]),Ba=x=>(Ne("data-v-518807ce"),x=x(),Ue(),x),Ya=Ba(()=>k("br",null,null,-1)),qa=le({__name:"manageConfig",setup(x){const e=se().t,g=re(),d=y(!1),r=y({...Re.value});ie(async()=>{if(!pe.value){ne.info(e("pages.nodes.pleaseSignIn")),g.replace({path:"/signin"});return}});const S=async()=>{if(te(r.value.netAsn)||te(r.value.netName)||isNaN(Number(r.value.netAsn))||Number(r.value.netAsn)<Ve||Number(r.value.netAsn)>He){de.error({centered:!0,title:e("pages.manage.config.changeConfig"),content:e("pages.peering.inputValid")});return}try{d.value=!0,await z(e,"/admin",{action:"config",netAsn:r.value.netAsn,netName:r.value.netName,netDesc:r.value.netDesc||null,footerText:r.value.footerText||null,maintenanceText:r.value.maintenanceText||null})}catch(E){console.error(E)}finally{await Je(e),d.value=!1}};return(E,A)=>{const b=v("a-input"),C=v("a-form-item"),u=v("a-textarea"),w=v("a-button"),Y=v("a-form"),p=v("a-spin");return s(),P(p,{spinning:d.value},{default:o(()=>[k("h2",null,i(t(e)("pages.manage.config.changeConfig")),1),a(Y,{model:r.value,class:"configForm"},{default:o(()=>[a(C,{name:"netAsn",label:t(e)("pages.manage.config.netAsn")},{default:o(()=>[a(b,{value:r.value.netAsn,"onUpdate:value":A[0]||(A[0]=l=>r.value.netAsn=l),type:"number","addon-before":"AS",placeholder:"424242〇〇〇〇"},null,8,["value"])]),_:1},8,["label"]),a(C,{name:"netName",label:t(e)("pages.manage.config.netName")},{default:o(()=>[a(b,{value:r.value.netName,"onUpdate:value":A[1]||(A[1]=l=>r.value.netName=l),placeholder:t(e)("pages.manage.config.netName")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(C,{name:"netDesc",label:t(e)("pages.manage.config.netDesc")},{default:o(()=>[a(u,{"auto-size":"",value:r.value.netDesc,"onUpdate:value":A[2]||(A[2]=l=>r.value.netDesc=l),placeholder:t(e)("pages.manage.config.netDesc")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(C,{name:"footerText",label:t(e)("pages.manage.config.footerText")},{default:o(()=>[a(u,{"auto-size":"",value:r.value.footerText,"onUpdate:value":A[3]||(A[3]=l=>r.value.footerText=l),placeholder:t(e)("pages.manage.config.footerText")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(C,{name:"maintenanceText",label:t(e)("pages.manage.config.maintenanceText")},{default:o(()=>[a(u,{"auto-size":"",value:r.value.maintenanceText,"onUpdate:value":A[4]||(A[4]=l=>r.value.maintenanceText=l),placeholder:t(e)("pages.manage.config.maintenanceText")},null,8,["value","placeholder"])]),_:1},8,["label"]),Ya,a(C,{"wrapper-col":{offset:8,span:16}},{default:o(()=>[a(w,{type:"primary",onClick:S},{icon:o(()=>[a(t(Ee))]),default:o(()=>[L(" "+i(t(e)("pages.manage.config.save")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])}}}),Wa=ue(qa,[["__scopeId","data-v-518807ce"]]),Ga={class:"buttons"},Xa={key:0},Za={key:1},Qa={key:2},Ka=["onClick"],et=["onClick"],at=le({__name:"managePosts",setup(x){const e=se().t,g=re(),d=y(!1),r=y([]),S=async()=>{try{d.value=!0;const l=await z(e,"/list",{type:"posts"});Array.isArray(l.posts)&&(r.value=l.posts)}catch(l){console.error(l)}finally{d.value=!1}};ie(async()=>{if(!pe.value){ne.info(e("pages.nodes.pleaseSignIn")),g.replace({path:"/signin"});return}await S()});const E=y([{title:e("pages.manage.posts.title"),dataIndex:"title",key:"title",sorter:(l,f)=>(""+(l.title||"")).localeCompare(f.title||"")},{title:e("pages.manage.posts.category"),dataIndex:"category",key:"category",sorter:(l,f)=>(""+(l.category||"")).localeCompare(f.category||"")},{title:e("pages.manage.posts.createdAt"),dataIndex:"createdAt",key:"createdAt",sorter:(l,f)=>(""+l.createdAt).localeCompare(f.createdAt)},{title:e("pages.manage.posts.updatedAt"),dataIndex:"updatedAt",key:"updatedAt",sorter:(l,f)=>(""+l.updatedAt).localeCompare(f.updatedAt)},{title:e("pages.manage.session.action"),dataIndex:"action",key:"action"}]),A=l=>{window.open(`/post/${l.postId}`)},b=async l=>{try{d.value=!0,await z(e,"/admin",{action:"deletePost",postId:l.postId})}catch(f){console.error(f)}finally{d.value=!1,S()}},C=y(!1),u=y(!1),w=y({category:"",title:"",content:"",postId:-1}),Y=async()=>{if(te(w.value.category)||te(w.value.title)||te(w.value.content)){de.error({centered:!0,title:e("pages.manage.posts.addOrEdit"),content:e("pages.peering.inputValid")});return}try{d.value=!0,u.value=!0;const l={action:"setPost",type:w.value.postId!==-1?"update":"add",category:w.value.category,title:w.value.title,content:w.value.content};w.value.postId!==-1&&Object.assign(l,{postId:w.value.postId}),await z(e,"/admin",l)}catch(l){console.error(l)}finally{d.value=!1,u.value=!1,C.value=!1,S()}},p=async l=>{if(C.value=!0,!l)w.value.category="",w.value.title="",w.value.content="",w.value.postId=-1;else{w.value.category=l.category,w.value.title=l.title,w.value.postId=l.postId,w.value.content="";try{u.value=!0;const f=await z(e,"/list",{type:"post",postId:l.postId})||null;if(!f||!f.content)throw new Error("Invalid data retrived.");w.value.content=f.content}catch(f){ne.error(e("pages.signIn.errorOccurred")),console.error(f);return}finally{u.value=!1}}};return(l,f)=>{const B=v("a-button"),q=v("a-divider"),W=v("a-popconfirm"),H=v("a-table"),N=v("a-input"),j=v("a-form-item"),D=v("a-textarea"),K=v("a-form"),F=v("a-spin"),ae=v("a-modal");return s(),c(M,null,[k("div",Ga,[a(B,{onClick:f[0]||(f[0]=R=>p())},{icon:o(()=>[a(t(be))]),default:o(()=>[L(" "+i(t(e)("pages.manage.posts.add")),1)]),_:1})]),a(H,{columns:E.value,"data-source":r.value,loading:d.value,bordered:"",size:"small",scroll:{x:"max-content"}},{bodyCell:o(({column:R,record:Q})=>[R.key==="createdAt"?(s(),c("span",Xa,i(t(xe)(Q.createdAt)),1)):I("",!0),R.key==="updatedAt"?(s(),c("span",Za,i(t(xe)(Q.updatedAt)),1)):I("",!0),R.key==="action"?(s(),c("span",Qa,[k("a",{onClick:G=>A(Q)},i(t(e)("pages.manage.posts.view")),9,Ka),a(q,{type:"vertical"}),k("a",{onClick:G=>p(Q)},i(t(e)("pages.manage.posts.edit")),9,et),a(q,{type:"vertical"}),a(W,{placement:"bottomRight",onConfirm:G=>b(Q)},{title:o(()=>[k("p",null,i(t(e)("pages.manage.session.areYouSure")),1)]),default:o(()=>[k("a",null,i(t(e)("pages.manage.session.remove")),1)]),_:2},1032,["onConfirm"])])):I("",!0)]),_:1},8,["columns","data-source","loading"]),a(ae,{open:C.value,"onUpdate:open":f[6]||(f[6]=R=>C.value=R),title:t(e)("pages.manage.posts.addOrEdit"),centered:""},{footer:o(()=>[a(F,{spinning:u.value},{default:o(()=>[a(B,{style:{"margin-right":"10px"},type:"primary",onClick:f[4]||(f[4]=R=>Y())},{default:o(()=>[L(i(t(e)("pages.manage.config.save")),1)]),_:1}),a(B,{onClick:f[5]||(f[5]=R=>C.value=!1)},{default:o(()=>[L(i(t(e)("pages.manage.posts.close")),1)]),_:1})]),_:1},8,["spinning"])]),default:o(()=>[a(F,{spinning:u.value},{default:o(()=>[a(K,{model:w.value,class:"modalForm"},{default:o(()=>[a(j,{name:"category",label:t(e)("pages.manage.posts.category")},{default:o(()=>[a(N,{value:w.value.category,"onUpdate:value":f[1]||(f[1]=R=>w.value.category=R),placeholder:t(e)("pages.manage.posts.category")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(j,{name:"title",label:t(e)("pages.manage.posts.title")},{default:o(()=>[a(N,{value:w.value.title,"onUpdate:value":f[2]||(f[2]=R=>w.value.title=R),placeholder:t(e)("pages.manage.posts.title")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(j,{name:"content",label:t(e)("pages.manage.posts.content")},{default:o(()=>[a(D,{rows:8,value:w.value.content,"onUpdate:value":f[3]||(f[3]=R=>w.value.content=R),placeholder:t(e)("pages.manage.posts.content")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["spinning"])]),_:1},8,["open","title"])],64)}}}),tt=ue(at,[["__scopeId","data-v-e4d42dbe"]]),nt={class:"buttons"},ot={key:0,class:"small-text"},lt={key:0,class:"small-text"},st={key:0,class:"small-text"},it={key:7},ut=["onClick"],rt=le({__name:"manageNodes",setup(x){const e=se().t,g=re(),d=y(!1),r=y([]),S=async()=>{try{d.value=!0;const p=await z(e,"/admin",{action:"enumRouters"});Array.isArray(p.routers)&&(r.value=p.routers)}catch(p){console.error(p)}finally{d.value=!1}};ie(async()=>{if(!pe.value){ne.info(e("pages.nodes.pleaseSignIn")),g.replace({path:"/signin"});return}await S()});const E=y([{title:e("pages.manage.nodes.name"),dataIndex:"name",key:"name",sorter:(p,l)=>(""+(p.name||"")).localeCompare(l.name||"")},{title:e("pages.manage.nodes.location"),dataIndex:"location",key:"location",sorter:(p,l)=>(""+(p.location||"")).localeCompare(l.location||"")},{title:e("pages.manage.nodes.public"),dataIndex:"public",key:"public",sorter:(p,l)=>(p.public?1:0)-(l.public?1:0)},{title:e("pages.manage.nodes.openPeering"),dataIndex:"openPeering",key:"openPeering",sorter:(p,l)=>(p.openPeering?1:0)-(l.openPeering?1:0)},{title:e("pages.manage.nodes.autoPeering"),dataIndex:"autoPeering",key:"autoPeering",sorter:(p,l)=>(p.autoPeering?1:0)-(l.autoPeering?1:0)},{title:e("pages.manage.nodes.sessionCapacity"),dataIndex:"sessionCapacity",key:"sessionCapacity",sorter:(p,l)=>p.sessionCapacity-l.sessionCapacity},{title:"IPv4",dataIndex:"ipv4",key:"ipv4",sorter:(p,l)=>(""+(p.ipv4||"")).localeCompare(l.ipv4||"")},{title:"IPv6",dataIndex:"ipv6",key:"ipv6",sorter:(p,l)=>(""+(p.ipv6||"")).localeCompare(l.ipv6||"")},{title:"IPv6 Link Local",dataIndex:"ipv6LinkLocal",key:"ipv6LinkLocal",sorter:(p,l)=>(""+(p.ipv6LinkLocal||"")).localeCompare(l.ipv6LinkLocal||"")},{title:e("pages.manage.session.action"),dataIndex:"action",key:"action"}]),A=async p=>{try{d.value=!0,await z(e,"/admin",{action:"deleteRouter",router:p.uuid})}catch(l){console.error(l)}finally{d.value=!1,S()}},b=y(!1),C=y(!1),u=y({name:"",description:"",location:"",public:!0,openPeering:!0,autoPeering:!0,sessionCapacity:30,callbackUrl:"",ipv4:"",ipv6:"",ipv6LinkLocal:"",linkTypes:["wireguard"],extensions:["mp-bgp","extended-nexthop"],uuid:""}),w=async()=>{if(te(u.value.name)||te(u.value.sessionCapacity)||isNaN(Number(u.value.sessionCapacity))||te(u.value.callbackUrl)||!Array.isArray(u.value.linkTypes)||u.value.linkTypes.length<1){de.error({centered:!0,title:e("pages.manage.nodes.addOrEdit"),content:e("pages.peering.inputValid")});return}try{d.value=!0,C.value=!0;const p={action:"setRouter",type:u.value.uuid!==""?"update":"add",name:u.value.name,description:u.value.description||null,location:u.value.location||null,public:!!u.value.public,openPeering:!!u.value.openPeering,autoPeering:!!u.value.autoPeering,sessionCapacity:Number(u.value.sessionCapacity),callbackUrl:u.value.callbackUrl,ipv4:u.value.ipv4||null,ipv6:u.value.ipv6||null,ipv6LinkLocal:u.value.ipv6LinkLocal||null,linkTypes:u.value.linkTypes,extensions:u.value.extensions};u.value.uuid!==""&&Object.assign(p,{router:u.value.uuid}),await z(e,"/admin",p)}catch(p){console.error(p)}finally{d.value=!1,C.value=!1,b.value=!1,S()}},Y=async p=>{b.value=!0,p?(u.value.name=p.name,u.value.description=p.description,u.value.location=p.location,u.value.public=p.public||!1,u.value.openPeering=p.openPeering,u.value.autoPeering=p.autoPeering,u.value.sessionCapacity=p.sessionCapacity,u.value.callbackUrl=p.callbackUrl||"",u.value.ipv4=p.ipv4,u.value.ipv6=p.ipv6,u.value.ipv6LinkLocal=p.ipv6LinkLocal,u.value.linkTypes=p.linkTypes,u.value.extensions=p.extensions,u.value.uuid=p.uuid):u.value={name:"",description:"",location:"",public:!0,openPeering:!0,autoPeering:!0,sessionCapacity:30,callbackUrl:"",ipv4:"",ipv6:"",ipv6LinkLocal:"",linkTypes:["wireguard"],extensions:["mp-bgp","extended-nexthop"],uuid:""}};return(p,l)=>{const f=v("a-button"),B=v("a-divider"),q=v("a-popconfirm"),W=v("a-table"),H=v("a-input"),N=v("a-form-item"),j=v("a-textarea"),D=v("a-switch"),K=v("a-input-number"),F=v("a-checkbox"),ae=v("a-checkbox-group"),R=v("a-form"),Q=v("a-spin"),G=v("a-modal");return s(),c(M,null,[k("div",nt,[a(f,{onClick:l[0]||(l[0]=_=>Y())},{icon:o(()=>[a(t(Te))]),default:o(()=>[L(" "+i(t(e)("pages.manage.nodes.add")),1)]),_:1})]),a(W,{columns:E.value,"data-source":r.value,loading:d.value,bordered:"",size:"small",scroll:{x:"max-content"}},{bodyCell:o(({column:_,record:J})=>[_.key==="location"?(s(),c(M,{key:0},[J.location?(s(),P(ye,{key:0,router:J,"hide-peering-dot":!0},null,8,["router"])):(s(),P(t(Z),{key:1}))],64)):_.key==="ipv4"?(s(),c(M,{key:1},[J.ipv4?(s(),c("span",ot,i(J.ipv4),1)):(s(),P(t(Z),{key:1}))],64)):_.key==="ipv6"?(s(),c(M,{key:2},[J.ipv6?(s(),c("span",lt,i(J.ipv6),1)):(s(),P(t(Z),{key:1}))],64)):_.key==="ipv6LinkLocal"?(s(),c(M,{key:3},[J.ipv6LinkLocal?(s(),c("span",st,i(J.ipv6LinkLocal),1)):(s(),P(t(Z),{key:1}))],64)):_.key==="public"?(s(),c(M,{key:4},[J.public?(s(),P(t(ge),{key:0})):(s(),P(t(Z),{key:1}))],64)):_.key==="openPeering"?(s(),c(M,{key:5},[J.openPeering?(s(),P(t(ge),{key:0})):(s(),P(t(Z),{key:1}))],64)):_.key==="autoPeering"?(s(),c(M,{key:6},[J.autoPeering?(s(),P(t(ge),{key:0})):(s(),P(t(Z),{key:1}))],64)):I("",!0),_.key==="action"?(s(),c("span",it,[k("a",{onClick:n=>Y(J)},i(t(e)("pages.manage.posts.edit")),9,ut),a(B,{type:"vertical"}),a(q,{placement:"bottomRight",onConfirm:n=>A(J)},{title:o(()=>[k("p",null,i(t(e)("pages.manage.session.areYouSure")),1)]),default:o(()=>[k("a",null,i(t(e)("pages.manage.session.remove")),1)]),_:2},1032,["onConfirm"])])):I("",!0)]),_:1},8,["columns","data-source","loading"]),a(G,{open:b.value,"onUpdate:open":l[16]||(l[16]=_=>b.value=_),title:t(e)("pages.manage.nodes.addOrEdit"),centered:""},{footer:o(()=>[a(Q,{spinning:C.value},{default:o(()=>[a(f,{style:{"margin-right":"10px"},type:"primary",onClick:l[14]||(l[14]=_=>w())},{default:o(()=>[L(i(t(e)("pages.manage.config.save")),1)]),_:1}),a(f,{onClick:l[15]||(l[15]=_=>b.value=!1)},{default:o(()=>[L(i(t(e)("pages.manage.posts.close")),1)]),_:1})]),_:1},8,["spinning"])]),default:o(()=>[a(Q,{spinning:C.value},{default:o(()=>[a(R,{model:u.value,class:"modalForm"},{default:o(()=>[a(N,{name:"name",label:t(e)("pages.manage.nodes.name")},{default:o(()=>[a(H,{value:u.value.name,"onUpdate:value":l[1]||(l[1]=_=>u.value.name=_),placeholder:t(e)("pages.manage.nodes.name")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(N,{name:"description",label:t(e)("pages.manage.nodes.description")},{default:o(()=>[a(j,{rows:2,value:u.value.description,"onUpdate:value":l[2]||(l[2]=_=>u.value.description=_),placeholder:t(e)("pages.manage.nodes.description")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(N,{name:"location",label:t(e)("pages.manage.nodes.location")},{default:o(()=>[a(H,{value:u.value.location,"onUpdate:value":l[3]||(l[3]=_=>u.value.location=_),placeholder:t(e)("pages.manage.nodes.location")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(N,{name:"public",label:t(e)("pages.manage.nodes.public")},{default:o(()=>[a(D,{checked:u.value.public,"onUpdate:checked":l[4]||(l[4]=_=>u.value.public=_)},null,8,["checked"])]),_:1},8,["label"]),a(N,{name:"openPeering",label:t(e)("pages.manage.nodes.openPeering")},{default:o(()=>[a(D,{checked:u.value.openPeering,"onUpdate:checked":l[5]||(l[5]=_=>u.value.openPeering=_)},null,8,["checked"])]),_:1},8,["label"]),a(N,{name:"autoPeering",label:t(e)("pages.manage.nodes.autoPeering")},{default:o(()=>[a(D,{checked:u.value.autoPeering,"onUpdate:checked":l[6]||(l[6]=_=>u.value.autoPeering=_)},null,8,["checked"])]),_:1},8,["label"]),a(N,{name:"sessionCapacity",label:t(e)("pages.manage.nodes.sessionCapacity")},{default:o(()=>[a(K,{value:u.value.sessionCapacity,"onUpdate:value":l[7]||(l[7]=_=>u.value.sessionCapacity=_),placeholder:t(e)("pages.manage.nodes.sessionCapacity")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(N,{name:"callbackUrl",label:t(e)("pages.manage.nodes.callbackUrl")},{default:o(()=>[a(H,{value:u.value.callbackUrl,"onUpdate:value":l[8]||(l[8]=_=>u.value.callbackUrl=_),placeholder:t(e)("pages.manage.nodes.callbackUrl")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(N,{name:"ipv4",label:"IPv4"},{default:o(()=>[a(H,{value:u.value.ipv4,"onUpdate:value":l[9]||(l[9]=_=>u.value.ipv4=_)},null,8,["value"])]),_:1}),a(N,{name:"ipv6",label:"IPv6"},{default:o(()=>[a(H,{value:u.value.ipv6,"onUpdate:value":l[10]||(l[10]=_=>u.value.ipv6=_)},null,8,["value"])]),_:1}),a(N,{name:"ipv6LinkLocal",label:"IPv6 Link Local"},{default:o(()=>[a(H,{value:u.value.ipv6LinkLocal,"onUpdate:value":l[11]||(l[11]=_=>u.value.ipv6LinkLocal=_)},null,8,["value"])]),_:1}),a(N,{label:t(e)("pages.peering.linkType")},{default:o(()=>[a(ae,{value:u.value.linkTypes,"onUpdate:value":l[12]||(l[12]=_=>u.value.linkTypes=_)},{default:o(()=>[a(F,{value:"wireguard"},{default:o(()=>[L(i(t(e)("pages.peering['wireguard']")),1)]),_:1}),a(F,{value:"openvpn"},{default:o(()=>[L(i(t(e)("pages.peering['openvpn']")),1)]),_:1}),a(F,{value:"ipsec"},{default:o(()=>[L(i(t(e)("pages.peering['ipsec']")),1)]),_:1}),a(F,{value:"gre"},{default:o(()=>[L(i(t(e)("pages.peering['gre']")),1)]),_:1}),a(F,{value:"direct"},{default:o(()=>[L(i(t(e)("pages.peering['direct']")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),a(N,{label:t(e)("pages.peering.bgpExtensions")},{default:o(()=>[a(ae,{value:u.value.extensions,"onUpdate:value":l[13]||(l[13]=_=>u.value.extensions=_)},{default:o(()=>[a(F,{value:"mp-bgp"},{default:o(()=>[L(i(t(e)("pages.peering['mp-bgp']")),1)]),_:1}),a(F,{value:"extended-nexthop"},{default:o(()=>[L(i(t(e)("pages.peering['extended-nexthop']")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["spinning"])]),_:1},8,["open","title"])],64)}}}),pt=ue(rt,[["__scopeId","data-v-67680d28"]]),ct={id:"wrapper"},dt={class:"header"},vt=le({__name:"manage",setup(x){const e=se().t,g=y(["mySessions"]),d={mySessions:e("pages.manage.mySessions"),myAccount:e("pages.manage.myAccount"),manageSessions:e("pages.manage.manageSessions"),managePosts:e("pages.manage.managePosts"),manageConfig:e("pages.manage.manageConfig"),manageNodes:e("pages.manage.manageNodes")};ie(async()=>{g.value[0]=fe.value?"manageSessions":"mySessions"});const r=y(!1),S=()=>{r.value=!r.value,window.scrollTo(0,0)},E=()=>{window.scrollTo(0,0),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<Be&&(r.value=!0)};return(A,b)=>{const C=v("a-menu-item"),u=v("a-menu"),w=v("a-layout-sider"),Y=v("a-divider"),p=v("a-layout-content"),l=Me;return s(),c("section",ct,[ze(a(w,{class:De(`sider ${t(Fe)}`),width:"200",collapsible:"",collapsed:r.value,"onUpdate:collapsed":b[8]||(b[8]=f=>r.value=f),trigger:null,breakpoint:"lg",collapsedWidth:40},{default:o(()=>[a(u,{class:"menu",mode:"inline",selectedKeys:g.value,"onUpdate:selectedKeys":b[7]||(b[7]=f=>g.value=f)},{default:o(()=>[t(fe)?(s(),c(M,{key:1},[a(C,{key:"manageSessions",onClick:b[2]||(b[2]=f=>E())},{icon:o(()=>[a(t(Le))]),default:o(()=>[L(" "+i(d.manageSessions),1)]),_:1}),a(C,{key:"manageNodes",onClick:b[3]||(b[3]=f=>E())},{icon:o(()=>[a(t(Te))]),default:o(()=>[L(" "+i(d.manageNodes),1)]),_:1}),a(C,{key:"managePosts",onClick:b[4]||(b[4]=f=>E())},{icon:o(()=>[a(t(ke))]),default:o(()=>[L(" "+i(d.managePosts),1)]),_:1}),a(C,{key:"manageConfig",onClick:b[5]||(b[5]=f=>E())},{icon:o(()=>[a(t(he))]),default:o(()=>[L(" "+i(d.manageConfig),1)]),_:1}),a(C,{key:"myAccount",onClick:b[6]||(b[6]=f=>E())},{icon:o(()=>[a(t(Ce))]),default:o(()=>[L(" "+i(d.myAccount),1)]),_:1})],64)):(s(),c(M,{key:0},[a(C,{key:"mySessions",onClick:b[0]||(b[0]=f=>E())},{icon:o(()=>[a(t(Le))]),default:o(()=>[L(" "+i(d.mySessions),1)]),_:1}),a(C,{key:"myAccount",onClick:b[1]||(b[1]=f=>E())},{icon:o(()=>[a(t(Ce))]),default:o(()=>[L(" "+i(d.myAccount),1)]),_:1})],64))]),_:1},8,["selectedKeys"])]),_:1},8,["class","collapsed"]),[[je,!r.value]]),a(p,{class:"content"},{default:o(()=>[k("h1",dt,i(d[g.value[0]]||""),1),a(Y,{dashed:""}),t(fe)?(s(),c(M,{key:1},[g.value[0]==="manageSessions"?(s(),P(Fa,{key:0})):I("",!0),g.value[0]==="manageConfig"?(s(),P(Wa,{key:1})):I("",!0),g.value[0]==="managePosts"?(s(),P(tt,{key:2})):I("",!0),g.value[0]==="manageNodes"?(s(),P(pt,{key:3})):g.value[0]==="myAccount"?(s(),P($e,{key:4})):I("",!0)],64)):(s(),c(M,{key:0},[g.value[0]==="mySessions"?(s(),P(ka,{key:0})):g.value[0]==="myAccount"?(s(),P($e,{key:1})):I("",!0)],64))]),_:1}),a(l,{trigger:r.value,onClick:S},null,8,["trigger"])])}}}),bt=ue(vt,[["__scopeId","data-v-a4c86d27"]]);export{bt as default};
